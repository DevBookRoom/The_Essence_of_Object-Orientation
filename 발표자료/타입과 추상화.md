# ch03/ 타입과 추상화

## 추상화를 통한 복잡성의 극복

**추상화**는 복잡한 현실을 **단순화**하기 위해 사용하기 위한 가장 기본적인 인지 수단

추상화는 **목적에 부합**하는 것이어야 한다. 

예시) 해리 백의 지하철 노선도  : 지형정보를 제거(→단순화)하고 역 사이의 연결성 강조(→ 목적)  

<aside>
💡

추상화

어떤 양상, 세부 사항, 구조를 좀 더 명확하게 이해하기 위해 특정 절차나 물체를 의도적으로 생략하거나 감춤으로써 복잡도를 극복하는 방법이다. 

추상화를 위한 두 가지 차원

- 첫 번째 차원은 *구체적인 사물들 간의 **공통점은 취하고 차이점은 버리는 일반화***를 통해 단순하게 만드는 것이다.
- 두 번째 차원은 중요한 부분을 강조하기 위해 ***불필요한 세부 사항을 제거함***으로써 단순하게 만드는 것이다.
</aside>

## 객체지향과 추상화

> 객체지향 패러다임의 중심에는 구체적이고 실제적인 객체가 존재하지만 수많은 객체들을 개별적인 단위로 취급하기에는 인간이 지닌 인지능력이 부족하다. 따라서 사람들은 본능적으로 **공통적인 특성**을 기준으로 객체들을 여러 그룹으로 묶어 동시에 다뤄야 하는 가짓수를 줄임으로써 상황을 단순화하려 노력한다.
> 

객체 : 정원사, 병사, 왕자와 공주, 하객으로 참석한 왕과 왕비들  ,토끼, 하트여왕 

| **개념** | **공통점** | **인스턴스 (개별 객체)** |
| --- | --- | --- |
| 트럼프 | 몸이 납작하고 두 손과 두 발이 네모난 몸 모서리에 달려 있다.  | 정원사, 병사, 왕자와 공주, 하객으로 참석한 왕과 왕비들, 하트여왕 |
| 토끼 | 긴 두 개의 귀를 가진다. | 토끼  |
| **심볼 : 개념을 가리키는 이름** | **내연 : 개념의 의미**  | **외연 : 개념에 속한 모든 객체의 집합** |

### **개념(concept)**

- 개념은 공통점을 기반으로 객체들을 묶기 위한 그릇
- 개념을 이용하면 객체를 여러 그룹으로 **분류(classification)** 할 수 있다.
- 각 객체는 특별한 개념을 표현하는 그룹의 일원이다. 이 때 객체를 인스턴스(instance)라고 한다.

- 개념의 세 가지 관점
1. 심볼(symbol) :  개념을 가리키는 간략한 이름이나 명칭
2. 내연(intention) :  개념의 정의, 의미 
3. 외연(extention) : 개념에 속하는 모든 객체의 집합(set) 

> 개념(concept)을 이용해 공통점을 가진 객체들을 분류(classification) 할 수 있다는 아이디어는 객체지향 패러다임이 복잡성을 극복하는 데 사용하는 가장  기본적인 인지 수단이다.
> 

> 어떤 객체를 어떤 개념으로 분류할지가 객체지향의 품질을 결정한다.
> 

### 분류(classification)

- 객체에 특정한 개념을 적용하는 작업으로 특정한 객체를 특정한 개념에 포함시키거나 포함시키지 않는 작업을 의미
- 분류는 객체지향의 중요한 개념 중 하나로, 어떤 객체를 어떤 개념으로 분류 할지가 객체 지향의 품질을 결정한다.
- 분류는 추상화를 위한 도구이다. 객체를 분류하는 과정은 추상화의 두 가지 차원 모두 이용한다. 

1. 공통점 취하고, 차이점은 버리는 일반화  
    → 개별 객체들을 ‘트럼프’라는 개념으로 묶은 것 
2. 중요한 사항 강조하기 위해 세부 사항 제거 
    → 몸이 납작하고 두 손과 두 발이 네모난 모서리에 달려있다는 사항 이외의 것은 버림

## 타입

- 타입의 정의는 개념의 정의와 완전히 동일하다.

<aside>
💡

타입은 개념과 동일하다.  따라서 타입이란 우리가 인식하고 있는 다양한 사물이나 객체에 적용할 수 있는 아이디어나 관념을 의미한다. 어떤 객체에 타입을 적용할 수 있을 때 그 객체를 타입의 인스턴스라고 한다. 타입의 인스턴스는 타입을 구성하는 외연인 객체 집합의 일원이 된다. 

</aside>

### 데이터 타입

메모리 안의 0과 1로 이루어진 비트열 데이터는 그 값이 무엇을 의미하는 지 알 수 없다. 그래서 데이터를 **목적에 따라 분류함으로써** 데이터가 잘못 사용되는 것을 방지할 수 있다. 

→ 데이터를 더하거나 빼거나 곱하거나 나눌 수 있는 있다면 (산술 연산자를 적용할 수 있다면)숫자형 데이터

→ 데이터가 여러 문자로 구성되고 다른 문자열과 연결될 수 있다면 문자열 데이터 

→ 데이터를 이용해 사실에 대한 참/ 거짓 이야기 할 수 있다면 논리형 데이터 

- 데이터 타입에 관한 중요한 점 
1. 타입은 데이터가 어떻게 사용되는지에 따라 결정된다.
 → 데이터의 사용 목적(어떻게 사용되느냐)에 따라 데이터의 타입을 분류(classification) 할 수 있다.  
2. 타입에 속한 데이터를 메모리에서 어떻게 표현되는지는 외부로 부터 철저히 감춰진다. 
→ 타입에 속한 데이터는 캡슐화될 수 있다.

### 객체와 타입

- 실제로 객체지향 프로그램을 작성할 때 객체를 일종의 데이터처럼 사용한다.  객체를 타입에 따라 분류하고, 그 타입에 이름을 붙이는 것은 결국 프로그램에서 사용할 새로운 데이터 타입을 선언하는 것과 같다.

- 그렇다면 객체는 데이터인가?  NO
객체를 행위에 따라 변할 수 있는 상태를 가진다. 애플리케이션 내부의 모든 객체의 상태를 모으면 결국 애플리케이션에서 관리해야 하는 전체 데이터를 표현할 수 있다.

- 객체 타입에 관한 중요한 점 
1. 객체가 어떤 타입에 속하는 지를 결정하는 것은 객체가 수행하는 행동이다. 
2. 객체의 내부적인 표현은 외부로부터 철저하게 감춰진다. ( 객체의 타입은 객체의 내부 표현과 아무런 상관 없다. )

→  타입은 데이터가 아니라 (외부에 들어나는)  행동(책임, 메시지)에 의해 결정된다. 

- **다형성** : 동일한 요청(행동, 책임, 메시지) 에 대해 서로 다른 방식(내부의 표현 방식)으로 응답할 수 있는 능력 을 의미, 다형적인 객체들은 동일한 타입에 속한다.
- **캡술화** :  데이터는 외부로부터 감춰져야 한다.
- **책임 -주도 설계** : 객체가 외부에 제공해야 하는 행동을 먼저 생각하고 즉 책임을 먼저 결정하고 그 책임을 수행하는 데 적합한 데이터를 결정하고 그 데이터를 외부 인터페이스 위로 캡슐화해야 한다.

### 타입의 계층

객체가 동일한 타입으로 분류되기 위해서는 동일한 행동을 가져야 한다. 

| **타입** | **공통점**   | **동일한 행동**  | **인스턴스 (개별 객체)** |  |  |
| --- | --- | --- | --- | --- | --- |
| 트럼프 | 몸이 납작하다.   | 납작 엎드릴 수 있다. 뒤집어 질 수 있다.  | 트럼프 카드  | 슈퍼 타입 | 트럼프인간을포함하는 포괄적인 개념  |
| 트럼프 인간  | 몸이 납작하다.  두 손과 두 발이 네모난 몸 모서리에 달려 있다.  | 납작 엎드릴 수 있다. 뒤집어 질 수 있다. 
**걸을 때마다 몸이 종이처럼 좌우로 펄럭인다.**  | 정원사, 병사, 왕자와 공주, 하객으로 참석한 왕과 왕비들, 하트여왕 | 서브 타입  | 트럼프보다 좀 더 특화된 행동을 하는 특수한 개념  |
| **심볼**  | **내연** | **내연 : 행동의 가짓수**  | **외연  : 집합의 크기**  |  |  |
- **일반화/ 특수화 관계** 
1. 기준은 행동
2. 일반적인 타입은 특수한 타입에 비해 더 적은 행동을 가진다. 특수한 타입은 일반적인 타입에 비해 더 많은 행동을 가진다.
3. 특수한 타입은 일반적인 타입이 할 수 있는 모든 행동을 동일하게 수행한다. 
4. 내연과 외연의 크기는 서로 반대이다. 
5. 추상화의 두가지 차원이 적용된다.
- **슈퍼 타입/ 서브 타입** 
1. 기준은 행동

### 정적 모델

타입을 사용하는 이유 역시 복잡성을 극복하기 위한 것. 즉 추상화를 위한 것  

→ 앨리스가 가질 수 있는 경우의 키 값을 나열하는 대신 앨리스의 키가 임의의 값을 가질 수 있다는 사실만을 생각하므로 상황을 단순화 할 수 있다. 

→ 중요한 것은 앨리스의 키가 (어떤 행동에 의해) 변할 수 있다는 것이지 구체적인 키 값이 중요한 것은 아니다. 

- **정적 모델** : 시간에 따라 동적으로 변하는 상태를 시간관 무관한(시간에 독립적인)  정적인 상태 표현 : 클래스 작성하는 시점
- **동적 모델**  : 특정 시점 에 구체적으로 어떤 상태 가지는 지 포착  : 디버깅하고 상태변경 추적하는 시점

### 클래스

객체지향 프로그래밍 언어에서 정적인 모델은 클래스를 이용해 구현된다. 그래서 타입과 클래스 혼동하는 경우 있다. 

1. 객체를 분류하는 기준은 타입이고, 타입은 객체가 수행하는 행동에 의해 결정된다.  
2. 프로그래밍언어를 통해 타입을 구현할 수 있는 방법 중 하나가 클래스이다.
