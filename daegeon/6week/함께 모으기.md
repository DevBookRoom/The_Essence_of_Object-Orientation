# 코드와 모델의 밀접한 연관성

코드와 모델을 밀접하게 연관시키는 것은 코드에 의미를 부여하고, 모델을 적절하게 하는 중요한 원칙입니다. 이를 통해 소프트웨어 설계의 세 가지 관점(개념 관점, 명세 관점, 구현 관점)을 모두 반영할 수 있습니다.

## 1. 개념 관점
- **개념 관점에서 설계**는 도메인 안의 개념과 그 사이의 관계를 표현합니다.
  - 사용자가 도메인을 바라보는 관점을 반영
  - 실제 도메인의 규칙과 제약을 유사하게 반영

## 2. 명세 관점
- 명세 관점에서는 **도메인에서 개발자 영역**으로 초점이 이동합니다.
  - 소프트웨어 안에서 객체들의 **책임**에 초점을 맞춤
  - 객체의 인터페이스 정의
  - "구현이 아니라 **인터페이스에 대해 프로그래밍하라**."

## 3. 구현 관점
- 구현 관점에서는 **실제 작업을 수행하는 코드**에 중점을 둡니다.
  - 객체들이 **책임을 수행하는 동작**을 코딩하는 것
  - 객체가 **어떻게 책임을 수행**할 것인지가 중요

## 클래스 설계의 관점
- **클래스가 은유하는 개념**은 도메인 관점을 반영
- **클래스의 공용 인터페이스**는 명세 관점을 반영
- **클래스 속성과 메서드**는 구현 관점을 반영

---

# 커피 전문점 도메인 모델

커피 전문점 도메인을 예로 들어 객체 간의 관계를 설명합니다.

## 도메인 객체
- **손님(Customer)**: 메뉴를 보고 커피를 주문하는 객체
- **바리스타(Barista)**: 커피를 제조하는 객체
- **메뉴판(Menu)**: 커피 메뉴를 제공하는 객체
- **메뉴 항목(MenuItem)**: 각각의 커피 항목을 나타내는 객체
- **커피(Coffee)**: 제조된 커피를 나타내는 객체

## 객체 간 관계
- **손님과 메뉴판**: 연관 관계
- **손님과 바리스타**: 연관 관계
- **바리스타와 커피**: 연관 관계
- **메뉴판과 메뉴 항목**: 합성 관계

## 도메인 모델
- **메뉴판**은 **4개의 메뉴 항목** 객체를 포함하는 객체입니다.
- 객체들은 도메인의 흐름에 따라 협력합니다.

---

# 협력 설계

훌륭한 객체를 설계하는 것이 아니라 **훌륭한 협력**을 설계하는 것이 중요합니다. 

## 협력의 흐름
1. **커피를 주문하라** (메시지) → **손님**
2. **메뉴 항목을 찾아라** (메시지) → **메뉴판**
3. **커피를 제조하라** (메시지) → **바리스타**

---

# 인터페이스 설계

객체들은 서로 메시지를 주고받으며 협력합니다. 각 객체는 특정 책임을 갖고, 그 책임을 수행하기 위해 다른 객체와 협력합니다.

### 인터페이스 정의
- **손님 객체**: `커피를 주문하라`
- **메뉴판 객체**: `메뉴 항목을 찾아라`
- **바리스타 객체**: `커피를 제조하라`
- **커피 객체**: `생성하라`

### 클래스 예시

```java
class Customer {
    public void order(String menuName) {}
}

class MenuItem {}

class Menu {
    public MenuItem choose(String name) {}
}

class Barista {
    public Coffee makeCoffee(MenuItem menuItem) {}
}

class Coffee {
    public Coffee(MenuItem menuItem) {}
}
