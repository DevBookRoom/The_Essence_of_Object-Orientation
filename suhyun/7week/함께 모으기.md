
# 객체지향 설계: 개념, 명세, 구현

## 1. 객체지향 설계의 세 가지 관점

### 개념 관점 (Conceptual Perspective)
- **개념 관점에서의 설계**는 도메인 안에서 존재하는 개념과 그 사이의 관계를 표현함.
- 소프트웨어는 **사용자가 도메인을 바라보는 관점**을 최대한 반영해야 하며, 실제 도메인의 규칙과 제약을 유사하게 적용함.
- **도메인 모델**은 도메인 내 객체들과 그 관계를 표현한 모델임. 이를 통해 시스템의 안정성을 확보할 수 있음.

### 명세 관점 (Specification Perspective)
- **명세 관점**은 도메인을 벗어나 개발자 영역인 소프트웨어로 초점이 이동함. 이 관점에서는 **소프트웨어 안 객체들의 책임**에 집중함.
- 객체가 협력을 위해 "무엇을 할 수 있는지"를 명시하며, **인터페이스**를 정의하는 데 중점을 둠.
- **"구현이 아니라 인터페이스에 대해 프로그래밍하라"**는 철학에 따라, 객체의 구체적인 동작 방식이 아니라 그들이 외부와 상호작용하는 방식을 정의함.

### 구현 관점 (Implementation Perspective)
- **구현 관점**에서는 객체가 실제로 책임을 수행하기 위한 **코드**에 집중함.
- 클래스의 메서드와 속성은 **구현 세부 사항**에 속하며, 이들은 외부 객체에게 노출되지 않도록 철저히 캡슐화되어야 함.
- 객체는 **어떻게 책임을 수행할지**를 구현하는 코드를 포함하며, 이는 인터페이스를 통해 외부와의 상호작용을 결정함.

## 2. 커피 전문점 도메인 예시

### 도메인 모델
- 커피 전문점 도메인을 객체지향적으로 바라보면 다음과 같은 객체들로 구성됨:
  - **손님 (Customer)**: 메뉴판에서 커피를 선택하고, 바리스타에게 주문함.
  - **바리스타 (Barista)**: 손님에게서 주문을 받아 커피를 제조함.
  - **메뉴판 (Menu)**: 아메리카노, 카푸치노, 카라멜 마키아또, 에스프레소를 포함한 메뉴 항목들.
  - **커피 (Coffee)**: 제조된 커피.

### 객체 간 관계
- **손님**은 **메뉴판**에서 커피를 선택하고, **바리스타**에게 커피를 주문함.
- **바리스타**는 **커피**를 제조함.
- 이러한 관계들을 통해 도메인 모델을 구성할 수 있으며, **손님과 메뉴판**, **손님과 바리스타**, **바리스타와 커피** 사이에 연관 관계가 존재함.
- **메뉴판**과 **메뉴 항목**들은 **합성 관계**로, 메뉴판은 여러 메뉴 항목을 포함하고 있음.

### 협력 설계
- 객체지향 설계의 목표는 훌륭한 **협력**을 설계하는 것임. **객체가 메시지를 선택하는 것이 아니라, 메시지가 객체를 선택하게 해야 함**.
  - 첫 번째 메시지는 "커피를 주문하라"임. 이 메시지는 손님 객체가 받아야 함.
  - 손님은 메뉴를 모르기 때문에 "메뉴 항목을 찾아라"라는 메시지를 **메뉴판**에게 보냄.
  - 메뉴판은 메뉴 항목을 반환하고, **바리스타**는 "커피를 제조하라" 메시지를 받음.


## 4. 세 가지 관점과 코드

### 개념 관점
- **Customer**, **Menu**, **MenuItem**, **Barista**, **Coffee** 클래스는 커피 전문점 도메인과 그 관계를 반영함.
- 변경 사항이 있을 때, 예를 들어 커피 제조 방식이 바뀌어도 **Barista** 객체에서만 수정하면 됨.

### 명세 관점
- 클래스의 **public 메서드**는 외부에서 접근할 수 있는 **인터페이스**로, 외부 객체는 이 인터페이스를 통해서만 상호작용함.
- 인터페이스를 수정하면 협력하는 모든 객체에 영향을 미치기 때문에 안정적인 인터페이스 설계가 중요함.

### 구현 관점
- **클래스 내부**에서는 구현 세부 사항이 감춰져 있음. 
- **메서드와 속성**은 외부에 영향을 미치지 않도록 철저히 캡슐화되어 있음, 객체는 주어진 책임을 수행하는 방식만 구현에 포함함.

## 5. 결론: 인터페이스와 구현의 분리
- **설계의 핵심 원칙**은 **인터페이스와 구현의 분리**임.
- 명세 관점은 클래스의 안정적인 측면을, 구현 관점은 불안정한 측면을 반영해야 함.
- 명세 관점이 설계를 주도하면 **설계 품질이 향상**되고, 변경에 유연한 구조를 유지할 수 있음.
