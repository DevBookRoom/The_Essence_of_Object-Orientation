# ch06/객체 지도

## 기능 설계 대 구조 설계

- 기능 : 사용자를 위해 무엇을 할 수있는가
- 구조 : 제품의 형태가 어때야 하는가

소프트웨어는 요구사항이 예측 불가능하게 변경되는 세계 

→ 변경에 대비하고 변경의 여지를 남겨 놓기 위해 안정적인 구조를 중심으로 설계한다. 

객체지향 접근방법은 안정적인 객체 구조를 바탕으로 시스템 기능을 객체 간의 책임으로 분배한다. 

## 두 가지 재료 : 기능과 구조

> 구조는 사용자나 이해관계자들이 도메인(domain)에 관해 생각하는 개념과 개념들간의 관계로 표현 —> **도메인 모델**
> 

기능은 사용자의 목표를 만족시키기 위한 책임을 수행하는 시스템의 행위로 표현 → **유스케이스**

## 안정적인 재료 : 구조

- **도메인 모델**  
- 사용자가 도메인을 바라보는 관점
- 설계자가 시스템의 구조를 바라보는 관점
- 소프트웨어 안에 구현된 코드 그 자체
- **표현적 차이/ 의미적 차이 
-** 소프트웨어 객체와 현실 객체 사이의 의미적 거리 
- 은유(현실세계와 소프트웨어세계 사이의 유사성에 집중한 것)를 통해서 그 차이를 줄여나가는 것 
- 은유의 대상은 현실이 아니라 도메인 모델이다.  즉, 도메인 객체들을 은유해야 한다.

## 불안정한 재료: 기능

- **유스케이스 
-** 사용자의 목표를 달성하기 위해 사용자와 시스템 간에 이뤄지는 상호작용의 흐름을 텍스트로 정리한 것
- 유스케이스의 특징
**-** 사용자와 시스템 간의 상호작용을 보여주는 텍스트이다.
- 하나의 시나리오가 아니라 여러 시나리오들의 집합이다.
- 유스케이스는 단순한 기능을 나열하는 것이 아니라 이야기를 통해 연관된 기능들을 함께 묶을 수  있다.
- 유스케이스는 사용자 인터페이스와 관련된 세부 정보를 포함하지 말아야 한다. 
- 유스케이스는 내부 설계와 관련된 정보를 포함하지 않는다.

## 재료 합치기 : 기능과 구조의 통합

**도메인 모델, 유스케이스, 그리고 책임-주도 설계** 

도메인 모델은 안정적인 구조를 개념화하기 위해, 유스케이스는 불안정한 기능을 서술하기 위해 사용되는 도구이다. 변경에 유연한 소프트웨어를 만들기 위해서는 유스케이스에 정리된 시스템의 기능을 도메인 모델을 기반으로 한 객체들의 책임으로 분배해야 한다. 

**책임-주도 설계**

시스템의 책임을 시스템의 책임으로 바꾸기. 시스템에 할당된 커다란 책임은 시스템 안의 작은 규모의 객체들이 수행해야 하는 더 작은 규모의 책임으로 세분화 된다. 

**도메인 모델**

그렇다면 어떤 객체를 선택할 것인가? 도메인 모델에 포함된 개념을 은유하는 소프트웨어 객체를 선택해야 한다.

협력 완성하는데 필요한 메시지를 식별하면서 객체들에게 책임을 할당해 나간다. 

**유스케이스** 

객체를 구현하기 위해 클래스를 추가하고 속성과 함께 메서드를 구현한다. 

**기능변경을 흡수하는 안정적인 구조**

기능변경이 일어나더라도 핵심적인 클래스와 클래스 간의 관계는 그대로 유지될 수 있다.
