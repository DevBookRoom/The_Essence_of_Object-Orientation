# 협력하는 객체들의 공동체

### # 도입

- 객체지향 프로그래밍: 현실 속 사물을 소프트웨어로 옮겨오는 작업.

  - 객체지향 소프트웨어: 실세계의 투영
  - 객체: 현실 속 사물에 대한 추상화

- 캡슐화로 객체에 역할 부여
  - 상태(state)와 행위(method)
- 협력으로 객체간 관계 설명
  - 의존, 상속 등

### # 협력하는 사람들

| 객체     | 역할      |
| -------- | --------- |
| 손님     | 커피 주문 |
| 캐시어   | 주문 받기 |
| 바리스타 | 커피 제조 |

- 이 셋 사이에 협력 관계 존재.
- 역할 = **책임 내포**

  - 1. 손님: 커피를 주문할 책임
  - 2. 캐시어: 바리스타에 주문 전달, 손님에게 완성된 커피를 전달할 책임
  - 3. 바리스타: 커피 제조의 책임

- **협력에 있어서 중요한 개념 제시**
  1. **여러 사람이 동일한 역할 수행 가능**
     > 추상적인 것에 의존(변경 가능성이 낮은 것에 의존 -> DIP)
     - 주문을 누가 받던
     - 커피를 누가 만들던 상관없음
  2. **역할은 대체 가능성 의미**
     - 대체 가능(갈아끼워질 수 있는 것을 의미)
  3. **책임을 수행하는 방법 선택 가능**
     - 역할만 수행하면 어떤 과정이 있던 상관없음 (인터페이스 구현)
  4. **한 사람이 동시에 여러 역할을 수행**
     - 한 사람이 캐시어와 바리스타역할을 동시에 수행하는 것이 가능

### # 역할, 책임, 협력

- 사람: 객체
- 에이전트의 요청: 메시지
- 에이전트가 요청을 처리하는 방법: 메서드
- 협력: 역할들 간의 연쇄적인 요청과 응답을 통해 목표를 달성한다.
  - 연쇄적인 요청과 응답으로 구성되는 협력 관계가 이루어짐
  - 자신에게 주어진 역할과 책임을 다하고, 다른 객체와도 적극적으로 협력

### # 협력 속에 사는 객체

- 객체지향 앱의 틀을 구성하는 것은 `역할`, `책임`, `협력`
  - 협력에 참여하는 주체는 `객체`, 협력의 퀄리티가 곧 객체의 퀄리티.

1. 객체는 충분히 협력적이어야함.

   - 내 역할이 아닌건 다른 객체에 적절하게 위임해야함.
   - 하나의 객체가 모든 일을 다 처리하려고 하면 소프트웨어의 복잡도 상승

2. 객체는 충분히 자율적이어야함.
   - 내 역할은 충실히 수행해야함.
   - 스스로의 원칙에 따라 내 역할을 정의해야함.

#### 상태와 행동을 함께 지닌 자율저인 객체

- 객체의 자율성은 객체의 내부 / 외부를 명확히 구분하는 것에서 시작
- 객체 외부에서는 접근이 허락된 수단을 통해서만 객체와 의사소통해야함.

#### 협력과 메시지

- 자신의 책임을 완성하기 위해 내 역할이 아닌 것은 다른 객체에 위임함.
- 이때 다른 객체와 소통한느 수단을 `메시지`라고 함.

#### 메서드와 자율성

- 객체가 수신된 메시지를 처리하는 방법을 `메서드`라고 함.
- `메시지`와 `메서드`의 분리는 객체들 간의 자율성을 증가시킴.

### # 객체지향의 본질

- 객체지향: `상호작용`하는 `자율적인`객체들의 `공동체`로 바라보고 `객체`를 이용해서 시스템을 분할하는 방법
- 자율적인 객체: `상태`와 `행위`를 지니며 스스로의 `책임`을 다하는 객체
- 객체는 시스템의 행위를 구현하기 위해 다른 객체와 `협력`하고, 협력 내에서 주어진 `역할`을 수행하며, 역할은 관련된 `책임`의 집합.
- 객체는 다른 객체와 협력하기 위해 `메시지`를 전송하고, 이를 수신한 객체는 `메소드`를 자율적으로 선택한다.
