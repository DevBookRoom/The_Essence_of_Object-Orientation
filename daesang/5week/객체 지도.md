# [객체지향의 사실과 오해 chap6]

# 6. 객체 지도

### # 도입

- 지도를 보며 길 찾는 것 vs 사람에게 물어가며 길 찾는 것
  - 지도에 그려진 지형은 고정 (수정 빈도 낮음)
  - 말하는 사람마다, 내가 서 있는 위치마다 다름 (수정 빈도 높음)
    -> 수정 빈도가 낮은 것을 따라 역할, 책임, 협력을 구성해야 재사용 가능하고 이해하기 쉬운 설계 가능

> 자주 변경되는 기능이 아니라 안정적인 구조에 기반을 두고 설계해야함.

### # 기능 설계 vs 구조 설계

- 기능은 사용자가 제품에 매력을 느끼는 주된 요소.
- 하지만 요구사항은 매번 바뀜
- 미래 예측 불가, 고로 변경에 유연하게 대응할 수 있어야함.
- 훌륭한 기능 + 안정적 구조 = 훌륭한 설계자
- 구조는 변경사항에 유연하게 대처하기 위해서 반드시 신경써야 하는 요소
- 구조를 잘 짜면 변경에 소요되는 비용을 낮출 수 있다.

### # 두 가지 재료: 기능과 구조

- 객체지향 = 기능(: 음식) + 구조(: 그릇)
  - 기능 표현 방법: Usecase modeling
  - 구조 표현 방법: Domain modeling

### # 안정적인 재료: 구조

**도메인 모델 (Domain model)**

> _도메인: 사용자가 프로그램을 사용하는 대상 분야_
> 도메인 모델: 도메인 내부의 개념, 관계, 규칙 등을 추상화한 것

- 모델: 개념을 단순화, 추상화한 형태
- 도메인 모델을 객체로 녹이면 코드 구조는 곧 도메인을 의미하게 됨.
  -> 이해하기 쉬움
  -> 구조적 안정성 증가 (도메인 모델: 본질적 -> 변경이 적음)

### # 불안정한 재료: 기능

**유스케이스 (Usecases)**

> _사용자와 시스템 간에 이뤄지는 상호작용의 흐름을 텍스트로 작성한 것._
> e.g. 예금주가 정기예금 계좌를 선택하면 시스템은 정기예금 계좌 정보를 보여주고, 예금주가 금일 기준으로 해지할 경우 받을 수 있는 이자 계산을 진행한다 …..

- 사용자가 시스템과 어떻게 상호작용하는지에 관한 정보만 기술
- 유스케이스와 객체의 구조 사이에는 커디란 간격이 존재한다.

### # 재료 합치기: 기능과 구조의 통합

**도메인 모델, 유스케이스, 그리고 책임-주도 설계**

- 불안정한 ==기능==을 안정적인 ==구조== 에 담아 변경으로 인한 side effect를 최소화해야함.
  - 도메인 모델: 안정적인 구조 개념화
  - 유스케이스: 불안정한 기능 서술
    -> `유스케이스`에 정리된 ==기능==을 `도메인 모델` 기반으로 한 객체들의 `책임`으로 분배해야함

**기능 변경을 흡수하는 안정적인 구조**

- 도메인 모델(구조)은 변경 빈도가 기능 변경 빈도에 비해 매우 적음.
